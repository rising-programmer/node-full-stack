webpackJsonp([1],{0:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("h3",{staticClass:"title"},[this._v(this._s(this.title))]),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var l=a("VU/8")({name:"App",data:function(){return{title:"学习vue+mongod+nodejs构建项目后台"}}},i,!1,function(t){a("XLtg")},null,null).exports,s=a("/ocq"),r=a("woOf"),n=a.n(r),d={name:"list",data:function(){return{title:"hello world",tableData:[],addFormVisible:!1,modifyFormVisible:!1,addpicVisible:!1,modifyId:"",addpicId:"",addpicform:{url:""},addForm:{name:"",age:"",sex:"",address:"",dowhat:"",favourite:"",explain:""},modifyForm:{name:"",age:"",sex:"",address:"",dowhat:"",favourite:"",explain:""},formLabelWidth:"120px",loading:!1}},methods:{jungleSex:function(t){return"man"==t?"汉子":"woman"==t?"妹子":""},add:function(){this.addFormVisible=!0},addSure:function(){var t=this;this.addFormVisible=!1;var e=this.addForm;this.$http.post("/api/hero",e).then(function(e){e.ok&&this.$message({message:"添加成功",type:"success",onClose:function(){t.getAll()}})},function(){})},closeAdd:function(){this.addForm.name="",this.addForm.age="",this.addForm.sex="",this.addForm.address="",this.addForm.dowhat="",this.addForm.name="",this.addForm.explain=""},modify:function(t){this.modifyFormVisible=!0,this.modifyForm=n()({},t),this.modifyId=t._id},modifySure:function(){var t=this;this.$http.put("/api/hero/"+this.modifyId,this.modifyForm,{emulateJSON:!0}).then(function(e){e.ok&&(this.modifyFormVisible=!1,this.$message({message:"修改成功",type:"success",onClose:function(){t.getAll()}}))},function(){})},deleteDate:function(t){var e=this,a=this,o=t;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$http.delete("/api/hero/"+o).then(function(t){t.ok?(this.$message({type:"success",message:"删除成功!"}),a.getAll()):this.$message({type:"error",message:"删除失败!"})},function(){})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},getAll:function(){this.loading=!0,this.$http.get("/api/hero").then(function(t){this.loading=!1,this.tableData=t.body},function(){this.loading=!1,console.log("error")})},toDetail:function(t){this.$router.push("/league/"+t)},addPic:function(t){this.addpicId=t,this.addpicVisible=!0},closePicAdd:function(){this.addpicform.url=""},addpicSure:function(){if(this.addpicform.url.trim()){var t={url:this.addpicform.url};this.$http.put("/api/addpic/"+this.addpicId,t).then(function(t){console.log(t),t.ok?(this.addpicVisible=!1,this.$notify({title:"成功",message:"添加图片成功",type:"success"})):this.$notify.error({title:"错误",message:"添加图片失败"})},function(){})}else this.$notify.error({title:"错误",message:"请输入正确的图片地址"})}},mounted:function(){this.getAll()}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:"","element-loading-text":"拼命加载中","header-row-class-name":"tableHeader","empty-text":"亲，暂时没有数据哦",border:""}},[a("el-table-column",{attrs:{fixed:"",prop:"name",label:"英雄",align:"center",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"age",label:"年龄",align:"center",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{label:"性别",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(t.jungleSex(e.row.sex))+"\n                    ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"籍贯",align:"center",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"dowhat",label:"位置",align:"center",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"favourite",label:"台词",align:"center",width:"301"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"360"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){t.toDetail(e.row._id)}}},[t._v("详情")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"success"},on:{click:function(a){t.modify(e.row)}}},[t._v("修改")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){t.deleteDate(e.row._id)}}},[t._v("删除")]),t._v(" "),a("el-button",{attrs:{type:"warning",size:"small"},on:{click:function(a){t.addPic(e.row._id)}}},[t._v("添加图片")])]}}])})],1),t._v(" "),a("el-dialog",{staticClass:"addArea",attrs:{title:"新增数据",visible:t.addFormVisible,modal:"","custom-class":"addFormArea"},on:{"update:visible":function(e){t.addFormVisible=e},close:t.closeAdd}},[a("el-form",{staticClass:"addForm",attrs:{model:t.addForm}},[a("el-form-item",{attrs:{label:"英雄","label-width":t.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addForm.name,callback:function(e){t.$set(t.addForm,"name",e)},expression:"addForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"年龄","label-width":t.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addForm.age,callback:function(e){t.$set(t.addForm,"age",e)},expression:"addForm.age"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"性别","label-width":t.formLabelWidth}},[a("el-select",{staticClass:"sexArea",attrs:{placeholder:"请选择性别"},model:{value:t.addForm.sex,callback:function(e){t.$set(t.addForm,"sex",e)},expression:"addForm.sex"}},[a("el-option",{attrs:{label:"汉子",value:"man"}}),t._v(" "),a("el-option",{attrs:{label:"妹子",value:"woman"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"籍贯","label-width":t.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addForm.address,callback:function(e){t.$set(t.addForm,"address",e)},expression:"addForm.address"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"位置","label-width":t.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addForm.dowhat,callback:function(e){t.$set(t.addForm,"dowhat",e)},expression:"addForm.dowhat"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"台词","label-width":t.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addForm.favourite,callback:function(e){t.$set(t.addForm,"favourite",e)},expression:"addForm.favourite"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"背景","label-width":t.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addForm.explain,callback:function(e){t.$set(t.addForm,"explain",e)},expression:"addForm.explain"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.addSure}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{staticClass:"addArea",attrs:{title:"修改数据",visible:t.modifyFormVisible,modal:"","custom-class":"addFormArea"},on:{"update:visible":function(e){t.modifyFormVisible=e}}},[a("el-form",{staticClass:"addForm",attrs:{model:t.modifyForm}},[a("el-form-item",{attrs:{label:"英雄","label-width":t.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.modifyForm.name,callback:function(e){t.$set(t.modifyForm,"name",e)},expression:"modifyForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"年龄","label-width":t.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.modifyForm.age,callback:function(e){t.$set(t.modifyForm,"age",e)},expression:"modifyForm.age"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"性别","label-width":t.formLabelWidth}},[a("el-select",{staticClass:"sexArea",attrs:{placeholder:"请选择性别"},model:{value:t.modifyForm.sex,callback:function(e){t.$set(t.modifyForm,"sex",e)},expression:"modifyForm.sex"}},[a("el-option",{attrs:{label:"男",value:"man"}}),t._v(" "),a("el-option",{attrs:{label:"女",value:"woman"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"籍贯","label-width":t.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.modifyForm.address,callback:function(e){t.$set(t.modifyForm,"address",e)},expression:"modifyForm.address"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"位置","label-width":t.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.modifyForm.dowhat,callback:function(e){t.$set(t.modifyForm,"dowhat",e)},expression:"modifyForm.dowhat"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"台词","label-width":t.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.modifyForm.favourite,callback:function(e){t.$set(t.modifyForm,"favourite",e)},expression:"modifyForm.favourite"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"背景","label-width":t.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.modifyForm.explain,callback:function(e){t.$set(t.modifyForm,"explain",e)},expression:"modifyForm.explain"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.modifyFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.modifySure}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{staticClass:"addPicArea",attrs:{title:"添加图片",visible:t.addpicVisible},on:{"update:visible":function(e){t.addpicVisible=e},close:t.closePicAdd}},[a("el-form",{attrs:{model:t.addpicform}},[a("el-form-item",{attrs:{label:"图片地址","label-width":t.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addpicform.url,callback:function(e){t.$set(t.addpicform,"url",e)},expression:"addpicform.url"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addpicVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.addpicSure}},[t._v("确 定")])],1)],1),t._v(" "),a("el-button",{staticClass:"addBtn",attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.add}},[t._v("添加")])],1)},staticRenderFns:[]};var c=a("VU/8")(d,m,!1,function(t){a("nzML")},null,null).exports,u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail"},[a("el-button",{staticClass:"goback",attrs:{type:"success",icon:"el-icon-arrow-left"},on:{click:t.goback}},[t._v("返回上一页")]),t._v(" "),a("el-carousel",{attrs:{interval:2e3,type:"card",height:"300px","indicator-position":"outside"}},t._l(t.imgArr,function(t,e){return a("el-carousel-item",{key:e},[a("img",{staticClass:"imgClass",attrs:{src:t,alt:""}})])})),t._v(" "),a("p",{staticClass:"heroName"},[t._v(t._s(t.name)+"●"+t._s(t.flag))]),t._v(" "),a("div",[t._v(t._s(t.explain))])],1)},staticRenderFns:[]};var f=a("VU/8")({name:"detail",data:function(){return{title:"欢迎来到得来联盟",imgArr:[],name:"",flag:"",explain:""}},methods:{getMessage:function(t){this.$http.get("/api/hero/"+t).then(function(t){this.imgArr=t.body.imgArr,this.name=t.body.name,this.flag=t.body.favourite,this.explain=t.body.explain},function(){})},goback:function(){this.$router.go(-1)}},mounted:function(){this.getMessage(this.$route.params.name)}},u,!1,function(t){a("Txa5")},"data-v-441af7cc",null).exports;o.default.use(s.a);var p=new s.a({routes:[{path:"/",name:"List",component:c},{path:"/league/:name",name:"Detail",component:f}]}),h=a("8+8L"),b=a("zL8q"),v=a.n(b);a("tvR6");o.default.config.productionTip=!1,o.default.use(v.a),o.default.use(h.a),new o.default({el:"#app",router:p,components:{App:l},template:"<App/>"})},Txa5:function(t,e){},XLtg:function(t,e){},nzML:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.e0f0cb09d991c07aa2cc.js.map